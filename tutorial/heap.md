# Куча

**Куча** - это полное бинарное дерево, обладающее следующими свойствами:

1. Для **кучи минимумов** каждый узел в куче имеет значение, не превышающее значений его дочерних узлов. Следовательно,
   верхний элемент (корневой узел) имеет **наименьшее** значение в куче. Для **кучи максимумов** каждый узел в куче
   имеет значение, не меньше значений его дочерних узлов. Следовательно, верхний элемент (корневой узел) имеет
   **наибольшее** значение в куче.
1. Все уровни кучи, кроме, возможно, последнего, полностью заполнены, а все узлы последнего уровня максимально левые.
   Таким образом заполнение производится по уровням слева направо.

Ниже представлены два вида кучи: кучи минимума и максимума.

![Кучи минимума и максимума](../img/heap_1.png)

## Операции просеивания

Операции просеивания используются для после вставки и удаления элемента для того, чтобы выполнялось основное свойство
кучи о ключах(п.1). Различают просеивание вверх после вставки и просеивание вниз после удаления. Рассмотрим каждый
алгоритм более детально. Далее будем рассматривать кучу минимума.

## Вставка элемента

**Просеивание вверх** - это всплытие добавленного листа дерева до тех пор, пока не будет выполнено условие, что новый
узел в куче имеет значение большее значения родителя и не превышающее значений его дочерних узлов. Таким образом мы
меняем просеиваемый узел с родителем до тех пор, пока узел не станет корнем или пока его значение меньше значение
родителя.

![Просеивание вверх](../img/heap_2.png)

Сложность данной операции **O(logN)**.

## Удаление элемента

**Просеивание вниз** - это погружение самого верхнего элемента, пока он не будет удовлетворять основному свойству кучи о
ключах. Алгоритм следующий:

1. Берем самый правый в последнем ряду элемент и переносим его на место удаляемого элемента, т.е. на вершину кучи.
   Определяем элемент как просеиваемый.
1. Если у просеиваемого элемента два сына, определяем среди них того, у которого меньший ключ. Меняем этот узел с
   просеиваемым если нужно.
1. Если у просеиваемого элемента один сын, меняем этот узел с просеиваемым если нужно.
1. Если после перестановки у просеиваемого элемента нет сыновей, то завершаем алгоритм, свойство кучи восстановлено.

![Просеивание вниз](../img/heap_3.png)

Сложность данной операции **O(logN)**.

## Определение минимального или максимального элемента

Свойство ключей кучи гарантирует, что на ее вершине будет всегда находиться минимальный или максимальный элемент.
Поэтому эта операция очень простая и состоит в чтении с вершины кучи.

Сложность данной операции **O(1)**.

## Реализация кучи в памяти 